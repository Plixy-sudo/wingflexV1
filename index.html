<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wingflex | Flight Physics</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚úàÔ∏è</text></svg>">
    
    <style>
        /* --- 1. CORE VARIABLES & RESET --- */
        :root {
            --bg-body: #fafafa;
            --bg-surface: #ffffff;
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --accent: #2563eb;
            --accent-glow: rgba(37, 99, 235, 0.15);
            --danger: #ef4444;
            --success: #10b981;
            --border: #e5e7eb;
            --radius-sm: 8px;
            --radius-lg: 24px;
            --shadow-subtle: 0 1px 3px rgba(0,0,0,0.05);
            --shadow-float: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            --transition-smooth: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        html { scroll-behavior: smooth; }
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: var(--font-sans);
            background-color: var(--bg-body);
            color: var(--text-primary);
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        /* --- 2. ANIMATIONS --- */
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- 3. UI COMPONENTS --- */
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2rem;
            background: var(--text-primary);
            color: white;
            border-radius: 50px;
            font-weight: 600;
            transition: var(--transition-smooth);
            border: none;
            cursor: pointer;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            background: black;
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--border);
        }
        
        .btn-outline:hover {
            border-color: var(--text-primary);
            background: transparent;
        }

        /* --- 4. NAVIGATION --- */
        nav {
            position: fixed;
            top: 0; left: 0; right: 0;
            padding: 1.25rem 0;
            z-index: 1000;
            background: rgba(250, 250, 250, 0.7);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .nav-content { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-weight: 800; font-size: 1.2rem; display: flex; align-items: center; gap: 8px; }
        .logo-dot { width: 8px; height: 8px; background: var(--accent); border-radius: 50%; }
        .nav-items a { color: var(--text-secondary); text-decoration: none; margin-left: 2rem; font-size: 0.9rem; font-weight: 500; transition: color 0.2s; }
        .nav-items a:hover { color: var(--text-primary); }

        /* --- 5. HERO SECTION --- */
        .hero { padding-top: 180px; padding-bottom: 100px; text-align: center; }
        .hero h1 { font-size: 4.5rem; line-height: 1.1; font-weight: 800; letter-spacing: -2px; margin-bottom: 1.5rem; animation: fadeUp 0.8s ease-out forwards; opacity: 0; }
        .hero p { font-size: 1.3rem; color: var(--text-secondary); max-width: 600px; margin: 0 auto 3rem; animation: fadeUp 0.8s ease-out 0.2s forwards; opacity: 0; }
        .hero-visual { width: 100%; height: 500px; border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-float); animation: fadeUp 0.8s ease-out 0.4s forwards; opacity: 0; }
        .hero-visual img { width: 100%; height: 100%; object-fit: cover; }

        /* --- 6. GRID SYSTEM --- */
        .grid-section { padding: 6rem 0; }
        .section-header { margin-bottom: 3rem; }
        .section-header h2 { font-size: 2.5rem; letter-spacing: -1px; margin-bottom: 0.5rem;}
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 2.5rem; }
        
        .card { background: var(--bg-surface); border-radius: var(--radius-lg); overflow: hidden; cursor: pointer; transition: var(--transition-smooth); border: 1px solid var(--border); }
        .card:hover { transform: translateY(-8px); box-shadow: var(--shadow-float); border-color: transparent; }
        .card-img-container { height: 240px; overflow: hidden; }
        .card-img-container img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease; }
        .card:hover .card-img-container img { transform: scale(1.1); }
        .card-body { padding: 2rem; }
        .tag { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 700; color: var(--accent); display: block; margin-bottom: 1rem; }
        .card h3 { font-size: 1.5rem; margin-bottom: 0.75rem; font-weight: 700; }
        .card p { color: var(--text-secondary); font-size: 0.95rem; line-height: 1.6; }

        /* --- 7. FLIGHT SIMULATOR (NEW) --- */
        .sim-container {
            background: #0f172a; /* Dark cockpit bg */
            border-radius: var(--radius-lg);
            overflow: hidden;
            position: relative;
            box-shadow: var(--shadow-float);
            color: white;
            display: grid;
            grid-template-columns: 1fr 250px; /* Viewport | HUD */
            height: 500px;
        }

        .sim-viewport {
            position: relative;
            background: linear-gradient(to bottom, #3b82f6 50%, #64748b 50%); /* Simple sky/ground */
            overflow: hidden;
            transition: background-position 0.5s;
        }

        .runway {
            position: absolute;
            top: 50%; left: 0; width: 100%; height: 100%;
            background: #334155;
            transform-origin: top;
            transform: perspective(500px) rotateX(60deg) scale(2);
            z-index: 1;
        }

        .runway-stripes {
            width: 10px; height: 100%; margin: 0 auto;
            border-left: 4px dashed white;
        }

        /* The Plane Icon */
        .sim-plane {
            position: absolute;
            bottom: 45%; left: 50px;
            width: 60px; height: 30px;
            z-index: 10;
            transition: all 1s ease-in-out;
            filter: drop-shadow(0 10px 10px rgba(0,0,0,0.5));
        }

        .sim-plane svg { width: 100%; height: 100%; fill: white; }

        /* Clouds for parallax */
        .cloud {
            position: absolute; top: 20%; left: 110%;
            width: 60px; height: 20px; background: rgba(255,255,255,0.4);
            border-radius: 20px;
            transition: left 3s linear;
        }

        /* HUD Section (Right Side) */
        .sim-hud {
            background: #1e293b;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            border-left: 1px solid #334155;
        }

        .g-meter-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
        }

        /* The vertical G Bar */
        .g-bar-bg {
            width: 12px; height: 200px;
            background: #334155;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .g-bar-fill {
            position: absolute; bottom: 0; left: 0; width: 100%;
            height: 33%; /* Default 1G position approx */
            background: linear-gradient(to top, var(--success), var(--accent), var(--danger));
            transition: height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .g-readout {
            font-size: 3rem;
            font-weight: 800;
            font-variant-numeric: tabular-nums;
            margin-top: 1rem;
        }

        .g-label { color: #94a3b8; font-size: 0.8rem; letter-spacing: 1px; text-transform: uppercase;}

        .sim-controls { display: flex; gap: 1rem; flex-direction: column; }
        .sim-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white; padding: 0.8rem; border-radius: 8px;
            cursor: pointer; font-weight: 600;
            transition: 0.2s;
        }
        .sim-btn:hover { background: rgba(255,255,255,0.2); }
        .sim-btn.active { background: var(--accent); border-color: var(--accent); }

        .status-text {
            position: absolute; top: 1rem; left: 1rem;
            background: rgba(0,0,0,0.5); padding: 0.5rem 1rem;
            border-radius: 20px; font-size: 0.8rem; font-weight: 600;
            color: white; z-index: 20;
        }

        /* --- 8. CALCULATOR (Keep Minimalist) --- */
        .calculator-section { background: #f4f4f5; border-radius: var(--radius-lg); padding: 4rem; text-align: center; margin-top: 4rem;}
        .calc-wrapper { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-top: 2rem;}
        .calc-wrapper input { padding: 1rem; border: 1px solid var(--border); border-radius: 8px; width: 200px; }
        
        /* --- 9. MODAL --- */
        .modal-backdrop { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.95); z-index: 2000; opacity: 0; pointer-events: none; transition: opacity 0.4s ease; backdrop-filter: blur(5px); }
        .modal-backdrop.active { opacity: 1; pointer-events: all; }
        .modal-content { max-width: 800px; margin: 0 auto; padding: 6rem 2rem; opacity: 0; transform: translateY(50px); transition: transform 0.5s ease, opacity 0.5s; }
        .modal-backdrop.active .modal-content { opacity: 1; transform: translateY(0); }
        .close-modal { position: fixed; top: 2rem; right: 2rem; width: 50px; height: 50px; border-radius: 50%; background: var(--bg-surface); border: 1px solid var(--border); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; transition: 0.3s; z-index: 2001; }
        .close-modal:hover { background: black; color: white; }
        .modal-img { width: 100%; height: 400px; object-fit: cover; border-radius: var(--radius-lg); margin-bottom: 2rem; box-shadow: var(--shadow-float); }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            .hero h1 { font-size: 3rem; }
            .sim-container { grid-template-columns: 1fr; height: auto; }
            .sim-viewport { height: 300px; }
            .sim-hud { flex-direction: row; align-items: center; gap: 1rem; }
            .g-meter-container { margin-bottom: 0; }
            .g-bar-bg { height: 80px; width: 12px; }
            .sim-controls { flex-direction: row; }
        }
    </style>
</head>
<body>

    <nav>
        <div class="container nav-content">
            <div class="logo"><div class="logo-dot"></div>WINGFLEX</div>
            <div class="nav-items">
                <a href="#journal">Journal</a>
                <a href="#sim">Flight Sim</a>
                <a href="#calc">Calculator</a>
            </div>
        </div>
    </nav>

    <header class="container hero">
        <h1>Bending the rules<br>of aerodynamics.</h1>
        <p>A deep dive into structural flexibility, load factors, and why modern planes are designed to act like giant springs.</p>
        <button class="btn" onclick="document.getElementById('sim').scrollIntoView()">Try Simulation</button>
        <div style="height: 60px;"></div>
        <div class="hero-visual">
            <img src="https://images.unsplash.com/photo-1464037866556-6812c9d1c72e?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80" alt="Wing Flex">
        </div>
    </header>

    <section id="journal" class="container grid-section">
        <div class="section-header">
            <h2>The Engineering Journal</h2>
            <p style="color: var(--text-secondary)">Curated insights into aviation physics.</p>
        </div>
        <div class="cards-grid">
            <div class="card" onclick="openModal(0)">
                <div class="card-img-container"><img src="https://images.unsplash.com/photo-1520437358207-323b43b50729?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="787 Wing"></div>
                <div class="card-body">
                    <span class="tag">Materials</span>
                    <h3>The Carbon Fiber Revolution</h3>
                    <p>How composite materials allow the Boeing 787 to flex its wings by over 25 feet.</p>
                </div>
            </div>
            <div class="card" onclick="openModal(1)">
                <div class="card-img-container"><img src="https://images.unsplash.com/photo-1540962351504-03099e0a754b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Fighter Jet"></div>
                <div class="card-body">
                    <span class="tag">Physics</span>
                    <h3>Understanding Load Factor</h3>
                    <p>Why a 60-degree turn makes your plane feel twice as heavy.</p>
                </div>
            </div>
            <div class="card" onclick="openModal(2)">
                <div class="card-img-container"><img src="https://images.unsplash.com/photo-1583070675712-421b44321683?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Turbulence"></div>
                <div class="card-body">
                    <span class="tag">Safety</span>
                    <h3>The "Ultimate Load" Test</h3>
                    <p>Engineers purposely break wings in the hangar to prove safety limits.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="sim" class="container grid-section">
        <div class="section-header">
            <h2>Flight Phase Simulator</h2>
            <p style="color: var(--text-secondary)">Experience the G-Force spikes during Landing and Takeoff.</p>
        </div>

        <div class="sim-container">
            <div class="sim-viewport">
                <div id="simStatus" class="status-text">Ready for Takeoff</div>
                <div id="cloud" class="cloud"></div>
                
                <div class="runway">
                    <div class="runway-stripes"></div>
                </div>

                <div id="simPlane" class="sim-plane">
                    <svg viewBox="0 0 24 24">
                        <path d="M21,16V14L13,9V3.5A1.5,1.5 0 0,0 11.5,2A1.5,1.5 0 0,0 10,3.5V9L2,14V16L10,13.5V19L8,20.5V22L11.5,21L15,22V20.5L13,19V13.5L21,16Z" />
                    </svg>
                </div>
            </div>

            <div class="sim-hud">
                <div class="g-meter-container">
                    <div class="g-bar-bg">
                        <div id="gBar" class="g-bar-fill"></div>
                    </div>
                    <div id="gValue" class="g-readout">1.0G</div>
                    <div class="g-label">Vertical Load</div>
                </div>

                <div class="sim-controls">
                    <button class="sim-btn" onclick="startTakeoff()">üõ´ Takeoff</button>
                    <button class="sim-btn" onclick="startLanding()">üõ¨ Landing</button>
                </div>
            </div>
        </div>
    </section>

    <section id="calc" class="container calculator-section">
        <h2>Bank Angle Calculator</h2>
        <p>Calculate G-Force based on turn angle.</p>
        <div class="calc-wrapper">
            <input type="number" id="bankInput" placeholder="Angle (e.g., 45)" min="0" max="85">
            <button class="btn" onclick="calcGs()">Calculate</button>
        </div>
        <div style="margin-top: 2rem;">
            <span id="calcResult" style="font-size: 3rem; font-weight: 800;">0.00</span>
            <span style="color: var(--text-secondary)"> Gs</span>
        </div>
    </section>

    <footer style="text-align: center; padding: 4rem 0; color: var(--text-secondary); border-top: 1px solid var(--border);">
        <p>¬© 2024 Wingflex Education.</p>
    </footer>

    <div class="modal-backdrop" id="modalBackdrop">
        <button class="close-modal" onclick="closeModal()">√ó</button>
        <div class="modal-content">
            <img id="mImg" class="modal-img" src="">
            <h2 id="mTitle" style="font-size: 2.5rem; margin-bottom: 1rem;"></h2>
            <div id="mBody" style="line-height: 1.8; font-size: 1.1rem; color: #374151;"></div>
        </div>
    </div>

    <script>
        // --- 1. FLIGHT SIMULATION LOGIC ---
        const plane = document.getElementById('simPlane');
        const gBar = document.getElementById('gBar');
        const gValue = document.getElementById('gValue');
        const statusText = document.getElementById('simStatus');
        const cloud = document.getElementById('cloud');

        function updateG(g, duration = 300) {
            gValue.innerText = g.toFixed(1) + "G";
            // Map 1G to 33% height, 2G to 80% height approx
            const height = (g * 33); 
            gBar.style.height = `${Math.min(height, 100)}%`;
            
            // Color logic
            if(g > 1.6) gBar.style.background = "var(--danger)";
            else if(g > 1.2) gBar.style.background = "orange";
            else gBar.style.background = "linear-gradient(to top, var(--success), var(--accent))";
        }

        function startTakeoff() {
            // Reset position
            plane.style.transition = 'all 0.5s';
            plane.style.bottom = '15%';
            plane.style.left = '10%';
            plane.style.transform = 'rotate(0deg)';
            statusText.innerText = "Status: Taxiing...";
            updateG(1.0);

            setTimeout(() => {
                // Acceleration
                statusText.innerText = "Status: Accelerating (Thrust)";
                plane.style.transition = 'left 2s ease-in';
                plane.style.left = '40%';
                updateG(1.2); // Longitudinal force simulated as total load

                setTimeout(() => {
                    // Rotation
                    statusText.innerText = "Status: Rotation (Pull Up!)";
                    plane.style.transition = 'all 1.5s ease-out';
                    plane.style.transform = 'rotate(-20deg)';
                    plane.style.bottom = '60%';
                    plane.style.left = '70%';
                    updateG(1.8); // G-Spike

                    // Move cloud
                    cloud.style.transition = 'left 1s linear';
                    cloud.style.left = '-20%';

                    setTimeout(() => {
                        // Climb stabilized
                        statusText.innerText = "Status: Climbing stabilized";
                        updateG(1.0);
                        cloud.style.left = '110%'; // reset cloud
                    }, 1500);

                }, 2000);
            }, 1000);
        }

        function startLanding() {
            // Initial Approach State
            plane.style.transition = 'none';
            plane.style.left = '10%';
            plane.style.bottom = '80%';
            plane.style.transform = 'rotate(5deg)'; // Nose slightly down or level
            updateG(0.9); // Feeling slightly light descending
            statusText.innerText = "Status: Approach";

            setTimeout(() => {
                // Descent
                plane.style.transition = 'all 2s ease-in-out';
                plane.style.left = '50%';
                plane.style.bottom = '20%';
                
                setTimeout(() => {
                    // Flare (The G-Spike)
                    statusText.innerText = "Status: Flare (Pulling Back)";
                    plane.style.transition = 'all 0.8s cubic-bezier(0.2, 1, 0.3, 1)';
                    plane.style.transform = 'rotate(-5deg)'; // Nose up
                    plane.style.bottom = '15%'; // Hover just above ground
                    updateG(1.4); // G-Force spikes as descent is arrested

                    setTimeout(() => {
                        // Touchdown
                        statusText.innerText = "Status: Touchdown & Braking";
                        plane.style.transform = 'rotate(0deg)';
                        updateG(1.1); // Braking force
                    }, 800);
                }, 2000);
            }, 500);
        }

        // --- 2. CALCULATOR LOGIC ---
        function calcGs() {
            const val = parseFloat(document.getElementById('bankInput').value);
            if(!val || val > 89) return;
            const res = 1 / Math.cos(val * Math.PI / 180);
            document.getElementById('calcResult').innerText = res.toFixed(2);
        }

        // --- 3. MODAL LOGIC (Content for cards) ---
        const articles = [
            { t: "Carbon Fiber Magic", b: "The 787 Dreamliner uses composite materials that allow the wing to flex significantly. This acts as a dampener for turbulence.", i: "https://images.unsplash.com/photo-1520437358207-323b43b50729?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" },
            { t: "G-Force Physics", b: "In a 60 degree bank turn, the G-force is exactly 2.0. This means the wings support twice the aircraft weight.", i: "https://images.unsplash.com/photo-1540962351504-03099e0a754b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" },
            { t: "Ultimate Load", b: "Wings are tested to 150% of the highest expected load. They usually bend over 20 feet before snapping!", i: "https://images.unsplash.com/photo-1583070675712-421b44321683?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" }
        ];
        
        const modal = document.getElementById('modalBackdrop');
        function openModal(i) {
            document.getElementById('mTitle').innerText = articles[i].t;
            document.getElementById('mBody').innerText = articles[i].b;
            document.getElementById('mImg').src = articles[i].i;
            modal.classList.add('active');
        }
        function closeModal() { modal.classList.remove('active'); }
        modal.onclick = (e) => { if(e.target === modal) closeModal(); }
    </script>
</body>
</html>
